<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bar Chart</title>
<link href=https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
</script>
</head>
<body>
</div>
<canvas id="myChart"></canvas>
</div>
<script>
$(document).ready(function(){
	var url="http://localhost:8082/chartData"
$.getJSON(url,function(data){
	
	console.log(data)
	var country=[]
	var latestTotalDeaths=[]
	
	$.each(data,function(id,obj){
		country.push(obj.country)
		latestTotalDeaths.push(obj.latestTotalDeaths)
	})
	console.log(country)
	
	var myChart=document.getElementById("myChart").getContext('2d')
	
	var chart=new Chart(myChart,{
		type:'bar',
		data:{
			labels:country,
			datasets:[
				{
					label:"Total Deaths",
					data:latestTotalDeaths,
					backgroundColor:"blue",
					minBarLength:2
				}
				
			]
			
		},
		options:{
			title:{
				display:true,
				text:"Corona Death Count Live"
			}
		}
	})
})
})
</script>
</body>
</html>